{"ast":null,"code":"var _jsxFileName = \"/Users/trungvo/javascript-stack/smart-money/client/src/common/charts/MyChart.js\";\nimport React, { Component } from 'react';\nimport Chart from \"chart.js\";\nimport { connect } from 'react-redux';\n\nclass MyChart extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      window_width: window.innerWidth\n    };\n    this.chartRef = React.createRef();\n\n    this.buildChart = () => {\n      const window_width = this.state.window_width;\n      const _this$props = this.props,\n            type = _this$props.type,\n            position = _this$props.position,\n            data = _this$props.data;\n      window.addEventListener('resize', () => {\n        this.setState({\n          window_width: window.innerWidth\n        });\n      });\n      const myChartRef = this.chartRef.current.getContext(\"2d\");\n      new Chart(myChartRef, {\n        type: type,\n        data: data,\n        options: {\n          title: {\n            text: 'Chart',\n            display: true\n          },\n          //responsive: true,\n          legend: {\n            display: true,\n            position: window_width > 945 ? type === 'pie' || type === 'doughnut' ? 'right' : position : 'bottom',\n            labels: {\n              boxWidth: window_width < 600 ? 15 : 40,\n              generateLabels: function (chart) {\n                var data = chart.data;\n\n                if (data.labels.length && data.datasets.length) {\n                  if (type !== 'line') {\n                    return data.labels.map(function (label, i) {\n                      return {\n                        text: label + ': ' + data.datasets[0].data[i],\n                        fillStyle: data.datasets[0].backgroundColor[i],\n                        index: i\n                      };\n                    });\n                  } else {\n                    return data.datasets.map(function (kind, i) {\n                      return {\n                        text: kind.label,\n                        fillStyle: kind.borderColor\n                      };\n                    });\n                  }\n                }\n\n                return [];\n              }\n            }\n          }\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    //this.buildChart();\n    const _this$props2 = this.props,\n          accounts = _this$props2.accounts,\n          transactions = _this$props2.transactions;\n    console.log(accounts);\n    console.log(transactions);\n  }\n\n  render() {\n    const window_width = this.state.window_width;\n    const type = this.props.type;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"canvas\", {\n      id: \"myChart\",\n      style: {\n        height: window_width < 350 ? type === 'pie' ? '300vh' : '350vh' : type === 'horizontalBar' ? '350vh' : '250vh',\n        width: '400vw'\n      },\n      ref: this.chartRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  errors: state.errors,\n  accounts: state.accounts,\n  transactions: state.transactions\n});\n\nexport default connect(mapStateToProps, null)(MyChart);","map":{"version":3,"sources":["/Users/trungvo/javascript-stack/smart-money/client/src/common/charts/MyChart.js"],"names":["React","Component","Chart","connect","MyChart","state","window_width","window","innerWidth","chartRef","createRef","buildChart","props","type","position","data","addEventListener","setState","myChartRef","current","getContext","options","title","text","display","legend","labels","boxWidth","generateLabels","chart","length","datasets","map","label","i","fillStyle","backgroundColor","index","kind","borderColor","componentDidMount","accounts","transactions","console","log","render","height","width","mapStateToProps","errors"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;;AAEA,MAAMC,OAAN,SAAsBH,SAAtB,CAAgC;AAAA;AAAA;AAAA,SAC9BI,KAD8B,GACtB;AACNC,MAAAA,YAAY,EAAEC,MAAM,CAACC;AADf,KADsB;AAAA,SAI9BC,QAJ8B,GAInBT,KAAK,CAACU,SAAN,EAJmB;;AAAA,SAa9BC,UAb8B,GAajB,MAAM;AAAA,YACVL,YADU,GACM,KAAKD,KADX,CACVC,YADU;AAAA,0BAEc,KAAKM,KAFnB;AAAA,YAEVC,IAFU,eAEVA,IAFU;AAAA,YAEJC,QAFI,eAEJA,QAFI;AAAA,YAEMC,IAFN,eAEMA,IAFN;AAIjBR,MAAAA,MAAM,CAACS,gBAAP,CAAwB,QAAxB,EAAkC,MAAM;AACtC,aAAKC,QAAL,CAAc;AAAEX,UAAAA,YAAY,EAAEC,MAAM,CAACC;AAAvB,SAAd;AACD,OAFD;AAIA,YAAMU,UAAU,GAAG,KAAKT,QAAL,CAAcU,OAAd,CAAsBC,UAAtB,CAAiC,IAAjC,CAAnB;AAEA,UAAIlB,KAAJ,CAAUgB,UAAV,EAAsB;AACpBL,QAAAA,IAAI,EAAEA,IADc;AAEpBE,QAAAA,IAAI,EAAEA,IAFc;AAGpBM,QAAAA,OAAO,EAAE;AACPC,UAAAA,KAAK,EAAE;AACLC,YAAAA,IAAI,EAAE,OADD;AAELC,YAAAA,OAAO,EAAE;AAFJ,WADA;AAKP;AACAC,UAAAA,MAAM,EAAE;AACND,YAAAA,OAAO,EAAE,IADH;AAENV,YAAAA,QAAQ,EAAER,YAAY,GAAG,GAAf,GAAsBO,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAI,UAA1B,GAAuC,OAAvC,GAAiDC,QAAvE,GAAmF,QAFvF;AAGNY,YAAAA,MAAM,EAAE;AACNC,cAAAA,QAAQ,EAAErB,YAAY,GAAG,GAAf,GAAqB,EAArB,GAA0B,EAD9B;AAENsB,cAAAA,cAAc,EAAE,UAASC,KAAT,EAAgB;AAC9B,oBAAId,IAAI,GAAGc,KAAK,CAACd,IAAjB;;AACA,oBAAIA,IAAI,CAACW,MAAL,CAAYI,MAAZ,IAAsBf,IAAI,CAACgB,QAAL,CAAcD,MAAxC,EAAgD;AAC9C,sBAAIjB,IAAI,KAAK,MAAb,EAAqB;AACnB,2BAAOE,IAAI,CAACW,MAAL,CAAYM,GAAZ,CAAgB,UAAUC,KAAV,EAAiBC,CAAjB,EAAoB;AACzC,6BAAO;AACLX,wBAAAA,IAAI,EAAEU,KAAK,GAAG,IAAR,GAAelB,IAAI,CAACgB,QAAL,CAAc,CAAd,EAAiBhB,IAAjB,CAAsBmB,CAAtB,CADhB;AAELC,wBAAAA,SAAS,EAAEpB,IAAI,CAACgB,QAAL,CAAc,CAAd,EAAiBK,eAAjB,CAAiCF,CAAjC,CAFN;AAGLG,wBAAAA,KAAK,EAAEH;AAHF,uBAAP;AAKD,qBANM,CAAP;AAOD,mBARD,MAQO;AACL,2BAAOnB,IAAI,CAACgB,QAAL,CAAcC,GAAd,CAAkB,UAASM,IAAT,EAAeJ,CAAf,EAAkB;AACzC,6BAAO;AACLX,wBAAAA,IAAI,EAAEe,IAAI,CAACL,KADN;AAELE,wBAAAA,SAAS,EAAEG,IAAI,CAACC;AAFX,uBAAP;AAID,qBALM,CAAP;AAMD;AACF;;AACD,uBAAO,EAAP;AACD;AAvBK;AAHF;AAND;AAHW,OAAtB;AAwCD,KA/D6B;AAAA;;AAM9BC,EAAAA,iBAAiB,GAAG;AAClB;AADkB,yBAEe,KAAK5B,KAFpB;AAAA,UAEX6B,QAFW,gBAEXA,QAFW;AAAA,UAEDC,YAFC,gBAEDA,YAFC;AAGlBC,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACD;;AAqDDG,EAAAA,MAAM,GAAG;AAAA,UACAvC,YADA,GACgB,KAAKD,KADrB,CACAC,YADA;AAAA,UAEAO,IAFA,GAEQ,KAAKD,KAFb,CAEAC,IAFA;AAGP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,EAAE,EAAC,SADL;AAEE,MAAA,KAAK,EAAE;AAACiC,QAAAA,MAAM,EAAExC,YAAY,GAAG,GAAf,GAAsBO,IAAI,KAAK,KAAT,GAAiB,OAAjB,GAA2B,OAAjD,GAA6DA,IAAI,KAAK,eAAT,GAA2B,OAA3B,GAAqC,OAA3G;AAAqHkC,QAAAA,KAAK,EAAE;AAA5H,OAFT;AAGE,MAAA,GAAG,EAAE,KAAKtC,QAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AASD;;AA5E6B;;AA+EhC,MAAMuC,eAAe,GAAG3C,KAAK,KAAK;AAChC4C,EAAAA,MAAM,EAAE5C,KAAK,CAAC4C,MADkB;AAEhCR,EAAAA,QAAQ,EAAEpC,KAAK,CAACoC,QAFgB;AAGhCC,EAAAA,YAAY,EAAErC,KAAK,CAACqC;AAHY,CAAL,CAA7B;;AAMA,eAAevC,OAAO,CAAC6C,eAAD,EAAkB,IAAlB,CAAP,CAA+B5C,OAA/B,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport Chart from \"chart.js\";\nimport {connect} from 'react-redux';\n\nclass MyChart extends Component {\n  state = {\n    window_width: window.innerWidth\n  }\n  chartRef = React.createRef();\n\n  componentDidMount() {\n    //this.buildChart();\n    const {accounts, transactions} = this.props;\n    console.log(accounts);\n    console.log(transactions)\n  }\n\n  buildChart = () => {\n    const {window_width} = this.state;\n    const {type, position, data} = this.props;\n\n    window.addEventListener('resize', () => {\n      this.setState({ window_width: window.innerWidth  })\n    });\n\n    const myChartRef = this.chartRef.current.getContext(\"2d\");\n\n    new Chart(myChartRef, {\n      type: type,\n      data: data,\n      options: {\n        title: {\n          text: 'Chart',\n          display: true\n        },\n        //responsive: true,\n        legend: {\n          display: true,\n          position: window_width > 945 ? (type === 'pie' || type ==='doughnut' ? 'right' : position) : 'bottom',\n          labels: {\n            boxWidth: window_width < 600 ? 15 : 40,\n            generateLabels: function(chart) {\n              var data = chart.data;\n              if (data.labels.length && data.datasets.length) {\n                if (type !== 'line') {\n                  return data.labels.map(function (label, i) {\n                    return {\n                      text: label + ': ' + data.datasets[0].data[i],\n                      fillStyle: data.datasets[0].backgroundColor[i],\n                      index: i\n                    };\n                  });\n                } else {\n                  return data.datasets.map(function(kind, i) {\n                    return {\n                      text: kind.label,\n                      fillStyle: kind.borderColor\n                    }\n                  })\n                }\n              }\n              return [];\n            }\n          }\n        }\n      }\n    });\n  }\n  render() {\n    const {window_width} = this.state;\n    const {type} = this.props;\n    return (\n      <div>\n        <canvas\n          id=\"myChart\" \n          style={{height: window_width < 350 ? (type === 'pie' ? '300vh' : '350vh') : (type === 'horizontalBar' ? '350vh' : '250vh'), width: '400vw'}}\n          ref={this.chartRef}\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  errors: state.errors,\n  accounts: state.accounts,\n  transactions: state.transactions\n}) \n\nexport default connect(mapStateToProps, null)(MyChart);"]},"metadata":{},"sourceType":"module"}